# RISC-V 开源操作系统进展·第001期·2022年03月10日

给TARSIER伙伴的提示：
1. 在 openEuler-RISC-V 中间仓的MR可以不用手动贴，已经有脚本自动化收集和归类到各位的 gitee ID 下。
2. 默认是在 openEuler RISC-V 二级标题下开一个三级标题，已自己的 gitee ID 名字为标题。
3. 内容可以列出来所有外部可见交付物，包括但不限于：代码提交/MR（已合并或WIP）、技术文档、视频、直播分享等。
4. 互助和指导他人、review代码是鼓励的，通过TARSIER各个群聊/MR/PR进行观测并进行评估。由于并不是外部可见，因此不用列出来。


## 卷首语

## 本期亮点

## openEuler RISC-V

### YukariChiba

初来乍到，请多指教。

在 Archlinux 下完成了 openEuler RISC-V QEMU 虚拟机的搭建；初步完成拉取、修包、打包、上传、PR 工作流的半自动化（代码 WIP，按揭开源）；初步熟悉 OBS 和 osc 的使用；然后修了一些包。

#### RISC-V Github Issue:
<details>
  <summary>点击展开</summary>

- python-nose: 源码仓已关闭该项目
    - https://github.com/isrc-cas/tarsier-oerv/issues/248
- liboauth: 加密算法问题，后续升级 nss 解决
    - https://github.com/isrc-cas/tarsier-oerv/issues/249
- etcd: 性能问题，已解决；内存问题
    - https://github.com/isrc-cas/tarsier-oerv/issues/250
- certmonger: 加密算法问题，后续升级 nss 解决
    - https://github.com/isrc-cas/tarsier-oerv/issues/254
- attest-tools: digest-list-tools 问题，去掉依赖解决
    - https://github.com/isrc-cas/tarsier-oerv/issues/256
- fftw: 性能问题导致误差，正在解决中
    - https://github.com/isrc-cas/tarsier-oerv/issues/264

</details>

#### RISC-V 中间仓 PR：
<details>
  <summary>点击展开</summary>

- vdo: Upstream 未定义 RISC-V 下的指令，进行一个 Port 
    - https://gitee.com/openeuler-risc-v/vdo/pulls/1
- libxslt: 清除测试环境中 deprecated 的函数
    - https://gitee.com/openeuler-risc-v/libxslt/pulls/1
- python-urlgrabber: 更新 Python 升级到十位数版本后的路径匹配
    - https://gitee.com/openeuler-risc-v/python-urlgrabber/pulls/1
- openEuler-logos: Service 不支持文件夹格式，重新打包
    - https://gitee.com/openeuler-risc-v/openEuler-logos/pulls/1
- osinfo-db-tools: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/osinfo-db-tools/pulls/1
- openEuler-indexhtml: Service 不支持文件夹格式，重新打包
    - https://gitee.com/openeuler-risc-v/openEuler-indexhtml/pulls/1
- lxc: 修复 linker 问题；Patch 后的架构不支持，进行一个修复
    - https://gitee.com/openeuler-risc-v/lxc/pulls/1
- proftpd: 禁用不联网环境下会失败的测试项
    - https://gitee.com/openeuler-risc-v/proftpd/pulls/1
- lcr: ExclusiveArch 增加 riscv64
    - https://gitee.com/openeuler-risc-v/lcr/pulls/1
- libcni: ExclusiveArch 增加 riscv64
    - https://gitee.com/openeuler-risc-v/clibcni/pulls/1
- valgrind: Upstream 不支持 RISC-V，换成支持 RISC-V 的 Fork 版本；增加 Credit 信息
    - https://gitee.com/openeuler-risc-v/valgrind/pulls/3
    - https://gitee.com/openeuler-risc-v/valgrind/pulls/2
- rubygem-mini_magick: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/rubygem-mini_magick/pulls/1
- rubygem-cucumber-core: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/rubygem-cucumber-core/pulls/1
- gupnp: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/gupnp/pulls/1
- librepo: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/librepo/pulls/1
- galera: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/galera/pulls/1
- libffado: config.guess 文件过旧，进行一个升级；转而使用 rpm 包中的文件
    - https://gitee.com/openeuler-risc-v/libffado/pulls/1
    - https://gitee.com/openeuler-risc-v/libffado/pulls/2
- clevis: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/clevis/pulls/1
- libvpx: 给编译文件加入 RISC-V 支持
    - https://gitee.com/openeuler-risc-v/libvpx/pulls/1
- risc-v-kernel: (未合并) 升级 RISC-V 内核
    - https://gitee.com/openeuler-risc-v/risc-v-kernel/pulls/1
- socket_wrapper: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/socket_wrapper/pulls/1
- nss: (未合并) 升级版本以解决加密问题 
    - https://gitee.com/openeuler-risc-v/nss/pulls/1
- attest-tools: 去掉失败的 digest-list-tools 依赖；删除 file 阶段并不存在的文件
    - https://gitee.com/openeuler-risc-v/attest-tools/pulls/1
- three-eight-nine-ds-base: 替换链接阶段 hardened-ld 到正确值
    - https://gitee.com/openeuler-risc-v/three-eight-nine-ds-base/pulls/1
- openldap: 测试问题，应用 Upstream Patch；性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/openldap/pulls/1
- folks: 性能问题，放宽延迟限制
    - https://gitee.com/openeuler-risc-v/folks/pulls/1
- ocaml-dune: 定义宏以避免 file 阶段忽略文件
    - https://gitee.com/openeuler-risc-v/ocaml-dune/pulls/1
- libmbim: 升级版本以满足依赖
    - https://gitee.com/openeuler-risc-v/libmbim/pulls/1

</details>

#### OpenEuler 源码仓 PR：
- babeld: 加入新包
    - https://gitee.com/openeuler/community/pulls/3220
    - https://gitee.com/src-openeuler/babeld/pulls/1

#### RISC-V 中间仓新增 Fork 包 PR:
<details>
  <summary>点击展开</summary>

- https://gitee.com/openeuler/RISC-V/pulls/162
- https://gitee.com/openeuler/RISC-V/pulls/158
- https://gitee.com/openeuler/RISC-V/pulls/157
- https://gitee.com/openeuler/RISC-V/pulls/156
- https://gitee.com/openeuler/RISC-V/pulls/154
- https://gitee.com/openeuler/RISC-V/pulls/153
- https://gitee.com/openeuler/RISC-V/pulls/145
- https://gitee.com/openeuler/RISC-V/pulls/149
- https://gitee.com/openeuler/RISC-V/pulls/147
- https://gitee.com/openeuler/RISC-V/pulls/140
- https://gitee.com/openeuler/RISC-V/pulls/164
- https://gitee.com/openeuler/RISC-V/pulls/165
- https://gitee.com/openeuler/RISC-V/pulls/167
- https://gitee.com/openeuler/RISC-V/pulls/170
- https://gitee.com/openeuler/RISC-V/pulls/173
- https://gitee.com/openeuler/RISC-V/pulls/178
- https://gitee.com/openeuler/RISC-V/pulls/179
- https://gitee.com/openeuler/RISC-V/pulls/195
- https://gitee.com/openeuler/RISC-V/pulls/202
- https://gitee.com/openeuler/RISC-V/pulls/205
- https://gitee.com/openeuler/RISC-V/pulls/207
- https://gitee.com/openeuler/RISC-V/pulls/209
- https://gitee.com/openeuler/RISC-V/pulls/211
- https://gitee.com/openeuler/RISC-V/pulls/214

</details>

#### OBS 提交修复的包:
<details>
  <summary>点击展开</summary>

- https://build.openeuler.org/request/show/536
- https://build.openeuler.org/request/show/537
- https://build.openeuler.org/request/show/539
- https://build.openeuler.org/request/show/540
- https://build.openeuler.org/request/show/541
- https://build.openeuler.org/request/show/542
- https://build.openeuler.org/request/show/543
- https://build.openeuler.org/request/show/547
- https://build.openeuler.org/request/show/548
- https://build.openeuler.org/request/show/549
- https://build.openeuler.org/request/show/550
- https://build.openeuler.org/request/show/551
- https://build.openeuler.org/request/show/557
- https://build.openeuler.org/request/show/558
- https://build.openeuler.org/request/show/559
- https://build.openeuler.org/request/show/562
- https://build.openeuler.org/request/show/569
- https://build.openeuler.org/request/show/571
- https://build.openeuler.org/request/show/572
- https://build.openeuler.org/request/show/576
- https://build.openeuler.org/request/show/584
- https://build.openeuler.org/request/show/588
- https://build.openeuler.org/request/show/590
- https://build.openeuler.org/request/show/604

</details>

#### OBS 提交升级的包:
<details>
  <summary>点击展开</summary>

- https://build.openeuler.org/request/show/453
- https://build.openeuler.org/request/show/456
- https://build.openeuler.org/request/show/457
- https://build.openeuler.org/request/show/467
- https://build.openeuler.org/request/show/468
- https://build.openeuler.org/request/show/470
- https://build.openeuler.org/request/show/471
- https://build.openeuler.org/request/show/472
- https://build.openeuler.org/request/show/481
- https://build.openeuler.org/request/show/482
- https://build.openeuler.org/request/show/484
- https://build.openeuler.org/request/show/485
- https://build.openeuler.org/request/show/486
- https://build.openeuler.org/request/show/494
- https://build.openeuler.org/request/show/495
- https://build.openeuler.org/request/show/496
- https://build.openeuler.org/request/show/497
- https://build.openeuler.org/request/show/499
- https://build.openeuler.org/request/show/500
- https://build.openeuler.org/request/show/501
- https://build.openeuler.org/request/show/502
- https://build.openeuler.org/request/show/503
- https://build.openeuler.org/request/show/504
- https://build.openeuler.org/request/show/505
- https://build.openeuler.org/request/show/506
- https://build.openeuler.org/request/show/507
- https://build.openeuler.org/request/show/508
- https://build.openeuler.org/request/show/509
- https://build.openeuler.org/request/show/510
- https://build.openeuler.org/request/show/511
- https://build.openeuler.org/request/show/512
- https://build.openeuler.org/request/show/563
- https://build.openeuler.org/request/show/564
- https://build.openeuler.org/request/show/568
- https://build.openeuler.org/request/show/578
- https://build.openeuler.org/request/show/579
- https://build.openeuler.org/request/show/580
- https://build.openeuler.org/request/show/581
- https://build.openeuler.org/request/show/582

</details>

## Debian RISC-V
### vimer
#### 本期工作进展
1. 搭建Debian的2种riscv64交叉编译环境：[在Debian使用sbuild构建riscv的交叉编译环境](http://www.aftermath.cn/2022/02/17/sbuild-build-riscv-on-debian/)和[debian based qemu with sbuild ](http://www.aftermath.cn/2022/02/20/debian-qemu-sbuild-riscv64/)并记录下来方便其他小伙伴在需要时参考。

2. 基于1的工作，验证了FTBFS(Fail To Build From Source code)列表中有关riscv 编译失败的几个deb包。其中对[sofia-sip](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=978498)的patch进行验证并主动推动该bug fix的merge；对[yubiserver](https://buildd.debian.org/status/package.php?p=yubiserver&suite=sid)正在测试自己产生的patch(奇怪的现象是，一开始是build riscv是失败的，后来自己在clean的workspace下在不打patch的情况下也是可以成功的，正在排查相关原因)。

### 下期工作目标
1. 继续完成上面2的任务。

2. 与其他开源作者合作，首先成为一个Debian 官方package的维护者。

3. 与Debian官方的QA(Quality Assurance)Group联系，咨询下如何搭建Debian 官方的riscv64 CI(至少有个初步方向)。

4. 熟悉/掌握Debian的bug追踪系统(BTS)。

# Fedora RISC-V

